## linux常用命令

### 目录

- [yum](#yum)
- [cd](#cd)
- [ls](#ls)
- [rm](#rm)
- [mkdir](#mkdir)
- [chown](#chown)
- [其他](#其他)




---


#### yum

yum命令是在Fedora和RedHat以及SUSE中基于rpm的软件包管理器

###### 语法
```
yum [options] [command] [package ...]
```


###### 选项（options）
```
-h：显示帮助信息；
-y：对所有的提问都回答“yes”；
-c：指定配置文件；
-q：安静模式；
-v：详细模式；
-d：设置调试等级（0-10）；
-e：设置错误等级（0-10）；
-R：设置yum处理一个命令的最大等待时间；
-C：完全从缓存中运行，而不去下载或者更新任何头文件。
```
###### 参数 （command）
```
install：安装rpm软件包；
update：更新rpm软件包；
check-update：检查是否有可用的更新rpm软件包；
remove：删除指定的rpm软件包；
list：显示软件包的信息；
search：检查软件包的信息；
info：显示指定的rpm软件包的描述信息和概要信息；
clean：清理yum过期的缓存；
shell：进入yum的shell提示符；
resolvedep：显示rpm软件包的依赖关系；
localinstall：安装本地的rpm软件包；
localupdate：显示本地rpm软件包进行更新；
deplist：显示rpm软件包的所有依赖关系。
```

部分常用 

```
yum install yum-fastestmirror #自动搜索最快镜像插件
yum install yumex #安装yum图形窗口插件
yum grouplist #查看可能批量安装的列表

# 安装
yum install              #全部安装
yum install package1     #安装指定的安装包package1
yum groupinsall group1   #安装程序组group1

# 更新和升级
yum update               #全部更新
yum update package1      #更新指定程序包package1
yum check-update         #检查可更新的程序
yum upgrade package1     #升级指定程序包package1
yum groupupdate group1   #升级程序组group1

# 查找和显示
yum info package1      #显示安装包信息package1
yum list               #显示所有已经安装和可以安装的程序包
yum list package1      #显示指定程序包安装情况package1
yum groupinfo group1   #显示程序组group1信息yum search string 根据关键字string查找安装包

# 删除
yum remove &#124; erase package1   #删除程序包package1
yum groupremove group1             #删除程序组group1
yum deplist package1               #查看程序package1依赖情况

#清除缓存
yum clean packages       #清除缓存目录下的软件包
yum clean headers        #清除缓存目录下的 headers
yum clean oldheaders     #清除缓存目录下旧的 headers

```

---

#### cd
###### 语法
```
cd (选项) (参数)
```
###### 选项
```
-p 如果要切换到的目标目录是一个符号连接，直接切换到符号连接指向的目标目录
-L 如果要切换的目标目录是一个符号的连接，直接切换到字符连接名代表的目录，而非符号连接所指向的目标目录。
- 当仅实用"-"一个选项时，当前工作目录将被切换到环境变量"OLDPWD"所表示的目录。
```

###### 实例
```
cd    进入用户主目录；
cd ~  进入用户主目录；
cd -  返回进入此目录之前所在的目录；
cd ..  返回上级目录（若当前目录为“/“，则执行完后还在“/"；".."为上级目录的意思）；
cd ../..  返回上两级目录；
cd !$  把上个命令的参数作为cd参数使用。
```
---
#### ls

###### 语法

```
ls（选项）（参数）
```
######  选项
```
-a：显示所有档案及目录（ls内定将档案名或目录名称为“.”的视为影藏，不会列出）；
-A：显示除影藏文件“.”和“..”以外的所有文件列表；
-C：多列显示输出结果。这是默认选项；
-l：与“-C”选项功能相反，所有输出信息用单列格式输出，不输出为多列；
-F：在每个输出项后追加文件的类型标识符，具体含义：“*”表示具有可执行权限的普通文件，“/”表示目录，“@”表示符号链接，“|”表示命令管道FIFO，“=”表示sockets套接字。当文件为普通文件时，不输出任何标识符；
-b：将文件中的不可输出的字符以反斜线“”加字符编码的方式输出；
-c：与“-lt”选项连用时，按照文件状态时间排序输出目录内容，排序的依据是文件的索引节点中的ctime字段。与“-l”选项连用时，则排序的一句是文件的状态改变时间；
-d：仅显示目录名，而不显示目录下的内容列表。显示符号链接文件本身，而不显示其所指向的目录列表；
-f：此参数的效果和同时指定“aU”参数相同，并关闭“lst”参数的效果；
-i：显示文件索引节点号（inode）。一个索引节点代表一个文件；
--file-type：与“-F”选项的功能相同，但是不显示“*”；
-k：以KB（千字节）为单位显示文件大小；
-l：以长格式显示目录下的内容列表。输出的信息从左到右依次包括文件名，文件类型、权限模式、硬连接数、所有者、组、文件大小和文件的最后修改时间等；
-m：用“,”号区隔每个文件和目录的名称；
-n：以用户识别码和群组识别码替代其名称；
-r：以文件名反序排列并输出目录内容列表；
-s：显示文件和目录的大小，以区块为单位；
-t：用文件和目录的更改时间排序；
-L：如果遇到性质为符号链接的文件或目录，直接列出该链接所指向的原始文件或目录；
-R：递归处理，将指定目录下的所有文件及子目录一并处理；
--full-time：列出完整的日期与时间；
--color[=WHEN]：使用不同的颜色高亮显示不同类型的。
```

---

#### rm

###### 语法

```
rm (选项)(参数)
```

###### 选项
```
-d：直接把欲删除的目录的硬连接数据删除成0，删除该目录；
-f：强制删除文件或目录；
-i：删除已有文件或目录之前先询问用户；
-r或-R：递归处理，将指定目录下的所有文件与子目录一并处理；
--preserve-root：不对根目录进行递归操作；
-v：显示指令的详细执行过程。
```

###### 实例

```
# 删除当前目录下的文件test和example
rm -i test example
Remove test ?n（不删除文件test)
Remove example ?y（删除文件example)

rm -r *  #删除当前目录下除隐含文件外的所有文件和子目录
```

---
#### mkdir

###### 语法
```
mkdir (选项)(参数)
```
###### 选项
```
-Z：设置安全上下文，当使用SELinux时有效；
-m<目标属性>或--mode<目标属性>建立目录的同时设置目录的权限；
-p或--parents 若所要建立目录的上层目录目前尚未建立，则会一并建立上层目录；
--version 显示版本信息。
```

###### 参数
要创建的目录列表，多个用空格隔开

###### 实例
```
# 在目录/usr/meng下建立子目录test，并且只有文件主有读、写和执行权限，其他人无权访问
mkdir -m 700 /usr/meng/test

# 在当前目录中建立bin和bin下的os_1目录，权限设置为文件主可读、写、执行，同组用户可读和执行，其他用户无权访问
mkdir -p-m 750 bin/os_1
```

---
#### mv

###### 语法
```
mv(选项)(源文件+目标文件)
```

###### 选项
```
--backup=<备份模式>：若需覆盖文件，则覆盖前先行备份；
-b：当文件存在时，覆盖前，为其创建一个备份；
-f：若目标文件或目录与现有的文件或目录重复，则直接覆盖现有的文件或目录；
-i：交互式操作，覆盖前先行询问用户，如果源文件与目标文件或目标目录中的文件同名，则询问用户是否覆盖目标文件。用户输入”y”，表示将覆盖目标文件；输入”n”，表示取消对源文件的移动。这样可以避免误将文件覆盖。
--strip-trailing-slashes：删除源文件中的斜杠“/”；
-S<后缀>：为备份文件指定后缀，而不使用默认的后缀；
--target-directory=<目录>：指定源文件要移动到目标目录；
-u：当源文件比目标文件新或者目标文件不存在时，才执行移动操作。
```

###### 实例
```
mv ex3 new1 #将文件ex3改名为new1
mv /usr/men/* .  #将目录/usr/men中的所有文件移到当前目录（用.表示）中
```
---


#### chown

chown命令用于修改某个文件或目录的所有者和所属的组，该命令可以向某个用户授权，文件所有者及管理才拥有执行此命令的权限。用户可以是用户或者是用户D，用户组可以是组名或组ID。文件名可以使由空格分开的文件列表，在文件名中可以包含通配符。


###### user-age

```
 chown [-fhv] [-R [-H | -L | -P]] owner[:group] file ...
 chown [-fhv] [-R [-H | -L | -P]] :group file ...
```

```
-c或--changes：显示更改的部分的信息
-f或--quite或--silent：不显示错误信息
-h或--no-dereference：只对符号连接的文件作修改，而不更改其他任何相关文件 
-R或--recursive：递归，将指定目录下的所有文件及子目录一并处理
-v或--version：显示指令执行过程 
--dereference：效果和“-h”参数相同
--help：在线帮助
--reference=<参考文件或目录>：把指定文件或目录的所有者与所属群组全部设成和参考文件或目录的拥有者与所属群组相同； 
--version：显示版本信息
```

##### 实例
```
//改变文件所有者
chown root: file1
//改变文件群组
chown :log mysite.log
```

---
#### 其他

显示当前文件目录
```
pwd
```


```
rpm -ql nginx  #查看 安装nginx 所生成的文件
```

历史命令查询
```
history | grep +关键字
```
